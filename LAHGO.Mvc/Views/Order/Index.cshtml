@model OrderCreateVM
@{
    ViewData["Title"] = "Index";
}

<section id="section1-checkout">
    <div class="row g-0">
        <div class="checkout1-left col-lg-7 col-12">
            <div class="checkout1-header row g-0">
                <div class="checkout1-logo col-lg-2 col-2">
                    <img class="img-fluid"
                         src="//cdn.shopify.com/s/files/1/0258/7751/2297/files/Lahgo_Logo_new_footer.png?55781"
                         alt="">
                </div>
                <div class="mobile-product-list align-items-center justify-content-between">
                    <div class="mobile-product-list-intro d-flex align-items-center">
                        <svg width="20" height="19" xmlns="http://www.w3.org/2000/svg"
                             class="order-summary-toggle__icon">
                            <path d="M17.178 13.088H5.453c-.454 0-.91-.364-.91-.818L3.727 1.818H0V0h4.544c.455 0 .91.364.91.818l.09 1.272h13.45c.274 0 .547.09.73.364.18.182.27.454.18.727l-1.817 9.18c-.09.455-.455.728-.91.728zM6.27 11.27h10.09l1.454-7.362H5.634l.637 7.362zm.092 7.715c1.004 0 1.818-.813 1.818-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817zm9.18 0c1.004 0 1.817-.813 1.817-1.817s-.814-1.818-1.818-1.818-1.818.814-1.818 1.818.814 1.817 1.818 1.817z">
                            </path>
                        </svg>
                        <span>Show order summary</span>
                        <svg width="11" height="6" xmlns="http://www.w3.org/2000/svg"
                             class="order-summary-toggle__dropdown" fill="#000">
                            <path d="M.504 1.813l4.358 3.845.496.438.496-.438 4.642-4.096L9.504.438 4.862 4.534h.992L1.496.69.504 1.812z">
                            </path>
                        </svg>
                    </div>
                    <div class="mobile-product-list-total product-checkout-price">
                        $@(Model.Baskets.Sum(b=>b.Counts * b.Product.DiscountedPrice))
                    </div>
                </div>
                <div class=" checkout1-right-mobile col-lg-5 col-12">
                    <div class="product-checkout-list">
                        @foreach (var item in Model.Baskets)
                        {
                            <div class="product-checkout row g-0 align-items-center">
                                <div class="product-checkout-pic col-lg-2 col-2">
                                    <img class="img-fluid" src="~/Manage/assets/img/productMainImg/@item.Product.MainImage"
                                         alt="">
                                </div>
                                <div class="product-checkout-count minicart-product-color d-flex align-items-center justify-content-center">
                                    @item.Counts
                                </div>
                                <div class="product-checkout-describtion col-lg-6 col-6">
                                    <div class="product-checkout-name minicart-product-name">
                                        @item.Product.Name
                                    </div>
                                    <div class="minicart-product-colorandsize">
                                        <div class="minicart-product-color text-start">
                                            @Model.Colors.FirstOrDefault(c => c.Id == item.ColorId).Name / <span class="minicart-product-size">@Model.Sizes.FirstOrDefault(c => c.Id == item.SizeId).Name</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="product-checkout-price col-lg-1 col-1">
                                    $@item.Product.DiscountedPrice
                                </div>
                            </div>

                        }

                    </div>
                    <div class="checkout-calculation">
                        <div class="additional-expenses">
                            <div class="expense d-flex justify-content-between">
                                <p>Subtotal</p><span class="taxes product-checkout-price">$@(Model.Baskets.Sum(b=>b.Counts * b.Product.DiscountedPrice))</span>
                            </div>
                            <div class="expense d-flex justify-content-between">
                                <p>Shipping</p><span class="shipping">--</span>
                            </div>

                        </div>
                        <div class="checkout-total">
                            <div class="additional-expenses expense-optional">
                                <div class="expense  d-flex justify-content-between">
                                    <p>Total</p><span class="taxes product-checkout-price">$@(Model.Baskets.Sum(b=>b.Counts * b.Product.DiscountedPrice))</span>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
                <div class="site-navigation site-navigation-checkout col-lg-12">
                    <ul class="text-start align-items-center">
                        <li class="navigation-options"><a asp-controller="basket" asp-action="index">Cart </a></li>
                        <li class="separator">></li>
                        <li class="navigation-options navigation-options-active"> Information</li>
                        <li class="separator">></li>
                        <li class="navigation-options navigation-options-active"> Shipping</li>
                        <li class="separator">></li>
                        <li class="navigation-options navigation-options-active"> Payment</li>
                    </ul>
                </div>
            </div>
            <div class="express-checkout-container">
                <p class="express-checkout text-center navigation-options navigation-options-active">
                    express
                    checkout
                </p>
                <ul class="payment-buttons row g-0 justify-content-center">
                    <li class="express-button1 express-button " data-testid="grid-cell">
                        <div role="button" tabindex="0" class="button-text">
                            amazon
                        </div>
                    </li>
                    <li class="express-button1 express-button" data-testid="grid-cell">
                        <div role="button" tabindex="0" class="button-text">
                            amazon
                        </div>
                    </li>
                    <li class="express-button1 express-button" data-testid="grid-cell">
                        <a href="">
                            <div role="button" tabindex="0" class="button-text">
                                amazon
                            </div>
                        </a>

                    </li>
                    <li class="express-button1 express-button" data-testid="grid-cell">
                        <div role="button" tabindex="0" class="button-text">
                            amazon
                        </div>
                    </li>
                </ul>
            </div>
            <div class="left-separator navigation-options navigation-options-active d-flex align-items-center">
                <span class="left-separator-text navigation-options navigation-options-active">or</span>
            </div>
            <div class="adress-container">
                @await Html.PartialAsync("_OrderAdressPartial", Model.Order)
            </div>
            <div class="policies">
                <ul class="policy-list d-flex">
                    <li><a asp-controller="about" asp-action="index">Refund policy</a></li>
                    <li><a asp-controller="about" asp-action="index">Refund policy</a></li>
                    <li><a asp-controller="about" asp-action="index">Refund policy</a></li>
                    <li><a asp-controller="about" asp-action="index">Refund policy</a></li>
                </ul>
            </div>

        </div>
        <div class="checkout1-right col-lg-5 col-12">
            <div class="product-checkout-list">
                @foreach (var basket in Model.Baskets)
                {
                    <div class="product-checkout row g-0 align-items-center">
                        <div class="product-checkout-pic col-lg-2 col-2">
                            <img class="img-fluid" src="~/Manage/assets/img/productMainImg/@basket.Product.MainImage"
                                 alt="">
                        </div>
                        <div class="product-checkout-count minicart-product-color d-flex align-items-center justify-content-center">
                            @basket.Counts
                        </div>
                        <div class="product-checkout-describtion col-lg-6 col-6">
                            <div class="product-checkout-name minicart-product-name">
                                @basket.Product.Name
                            </div>
                            <div class="minicart-product-colorandsize">
                                <div class="minicart-product-color text-start">
                                    @Model.Colors.FirstOrDefault(c => c.Id == basket.ColorId).Name / <span class="minicart-product-size">@Model.Sizes.FirstOrDefault(c => c.Id == basket.SizeId).Name</span>
                                </div>
                            </div>
                        </div>

                        <div class="product-checkout-price col-lg-1 col-1">
                            $@basket.Product.DiscountedPrice
                        </div>
                    </div>

                }

            </div>
            <div class="checkout-calculation">
                <div class="additional-expenses">
                    <div class="expense d-flex justify-content-between">
                        <p>Subtotal</p><span class="taxes product-checkout-price">$@(Model.Baskets.Sum(b=>b.Counts * b.Product.DiscountedPrice))</span>
                    </div>
                    <div class="expense d-flex justify-content-between">
                        <p>Shipping</p><span class="shipping">--</span>
                    </div>

                </div>
                <div class="checkout-total">
                    <div class="additional-expenses expense-optional">
                        <div class="expense  d-flex justify-content-between">
                            <p>Total</p><span class="taxes product-checkout-price">$@(Model.Baskets.Sum(b=>b.Counts * b.Product.DiscountedPrice))</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
